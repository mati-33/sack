/* ===================================================================== */

Screen {
    align: center middle;
}

/* ===================================================================== */

SackHeader {
    #header {
        text-align: center;
        hatch: left $primary 50%;
        width: 70;
        max-width: 80%;
    }
    Static {
        width: 1fr;
    }
}

#options {
    margin-top: 5;

    Option {
        width: 70;
        margin-bottom: 1;
    }
}

/* ===================================================================== */

#form {
    width: 45;
    border: solid $surface-lighten-1;
    padding: 1;

    & * {
        max-width: 60;
    }

    .form-title {
        margin-bottom: 1;
        text-style: bold;
        margin-left: 2;
    }

    .form-error {
        color: $error;
        margin-bottom: 1;
        text-align: center;
        width: 30;
        background: red 10%;
    }

    .form-label {
        color: $foreground-muted;
    }

    .form-field {
        height: 4;
        width: 30;
        padding-left: 1;
        border: solid $surface-lighten-1;

        &:focus-within {
            border: solid $primary 50%;
        }
    }

    Input {
        background: $background !important;

        &:focus {
            background-tint: $background 0%;
        }
        &.-textual-compact {
            &.-invalid {
                background-tint: $error 0%;
            }
        }
    }

    Button {
        margin-top: 1;
        background: $background;
        text-style: none;
        border: solid $surface-lighten-1;

        &:focus {
            background: $background !important;
            border: solid $primary 50%;
            background-tint: $foreground 0%;
            text-style: bold;
        }
    }
}

/* ===================================================================== */

#chat {
    min-width: 35%;
    width: 75;
    max-width: 95%;
}

#chat-header {
    width: 100%;
    height: 2;
    border-bottom: solid $surface-lighten-1;
}

#messages {
    scrollbar-size-vertical: 0;

    .notification {
        height: auto;
        color: $foreground-muted;
        text-align: center;
        align: center middle;
        width: 100%;
        margin-bottom: 1;
    }

    ChatMessage {
        height: auto;

        .msg {
            width: auto;
            max-width: 70w;
            height: auto;
            max-height: 50;
            padding: 1 2 1 2;
            outline: solid $surface-lighten-1;
        }

        .msg-text {
            text-overflow: fold;
            max-width: 100%;
        }

        .msg-author {
            color: $foreground-muted;
        }

        &.right {
            align: right middle;
            
            .msg {
                outline-right: solid $primary;
            }
        }
    }
}

#input-wrapper {
    border: solid $surface-lighten-1;

    #prompt-char {
        color: $text;
    }

    &:focus-within {
        #prompt-char {
            color: $primary;
        }
    }
}

TextInput {
    height: auto;
    max-height: 8;
    background: $background;

    .text-area--cursor-line {
        background: $background;
    }
}

/* ===================================================================== */

.modal {
    background: $background;
    border: solid $surface-lighten-1;
    height: auto;
    width: 40;
    padding: 1;

    .modal-title {
        margin-bottom: 1;
        text-style: bold;
    }
}

.help-label{
    width: 100%;
    .help-keys {
        width: 15;
        text-align: right;
        padding-right: 2;
        color: $primary;
    }
    .help-desc {
        width: 1fr;
        text-align: left;
    }
    &.help-header {
        text-style: bold;
        .help-keys {
            color: $text;
        }
    }
}

Option {
    .option-arrow {
        margin-left: 2;
        margin-right: 1;
        text-opacity: 0%;
    }
    &:focus-within {
        .option-arrow {
            text-opacity: 100%;
        }
        &:focus-within {
            background: $primary 10%;
        }
    }

    Button {
        height: 0;
        width: 0;
        padding: 0;
        margin: 0;
        border: none;
    }
}
/* ===================================================================== */
