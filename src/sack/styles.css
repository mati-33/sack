/* ===================================================================== */

Screen {
    align: center middle;
}

/* ===================================================================== */

SackHeader {
    dock: top;
    margin-top: 3;
    #header {
        text-align: center;
        hatch: left $primary 50%;
        width: 70;
        max-width: 80%;
    }
    Static {
        width: 1fr;
    }
}

#options {
    margin-top: 3;
    align: center top;

    Option {
        width: 70;
        max-width: 80%;
        margin-bottom: 1;
    }
}

/* ===================================================================== */

#form {
    width: 70;
    max-width: 80%;
    margin-top: 3;
    align: center top;

    .form-title {
        margin-bottom: 1;
        margin-top: 1;
        width: 100%;
        padding-left: 4;
    }

    .form-error {
        color: $error;
        margin-bottom: 1;
        width: 100%;
        background: $error 10%;
        padding-left: 4;
    }

    FormField {
        height: 1;
        margin-bottom: 1;

        .option-arrow {
            padding-left: 2;
            text-opacity: 0%;
        }

        .form-label {
            margin-right: 1;
        }

        &:focus-within {
            background: $primary 10%;
            .option-arrow {
                text-opacity: 100%;
            }
        }
        Input {
            background: $background;
            margin-bottom: 1;

            &:focus {
                background-tint: $background 0%;
                background: $primary 0%;
            }
            &.-textual-compact {
                &.-invalid {
                    background-tint: $error 0%;
                }
            }
        }
    }

    FormButton {
        align: right middle;
        width: 100%;
        Label {
            text-opacity: 0%;
        }

        &:focus-within {
            Label {
                background: $primary 10%;
                text-opacity: 100%;
            }
        }
        Button {
            background: $background;
            text-style: none;

            &:focus {
                background: $primary 10%;
                background-tint: $foreground 0%;
            }
        }
    }

}

/* ===================================================================== */

#chat {
    min-width: 35%;
    width: 75;
    max-width: 95%;
}

#chat-header {
    width: 100%;
    height: 2;
    border-bottom: solid $surface-lighten-1;
}

#messages {
    scrollbar-size-vertical: 0;

    .notification {
        height: auto;
        color: $foreground-muted;
        text-align: center;
        align: center middle;
        width: 100%;
        margin-bottom: 1;
    }

    ChatMessage {
        height: auto;

        .msg {
            width: auto;
            max-width: 70w;
            height: auto;
            max-height: 50;
            padding: 1 2 1 2;
            outline: solid $surface-lighten-1;
        }

        .msg-text {
            text-overflow: fold;
            max-width: 100%;
        }

        .msg-author {
            color: $foreground-muted;
        }

        &.right {
            align: right middle;
            
            .msg {
                outline-right: solid $primary;
            }
        }
    }
}

#input-wrapper {
    border: solid $surface-lighten-1;

    #prompt-char {
        color: $text;
    }

    &:focus-within {
        #prompt-char {
            color: $primary;
        }
    }
}

TextInput {
    height: auto;
    max-height: 8;
    background: $background;

    .text-area--cursor-line {
        background: $background;
    }
}

/* ===================================================================== */

.modal {
    background: $background;
    border: solid $surface-lighten-1;
    height: auto;
    width: 40;
    padding: 0 1;


    .modal-title {
        border-bottom: solid $primary 50%;
        margin-bottom: 1;
        width: 100%;
        text-align: center;
    }
}

.help-label{
    width: 100%;
    .help-keys {
        width: 15;
        text-align: right;
        padding-right: 2;
        color: $primary;
    }
    .help-desc {
        width: 1fr;
        text-align: left;
    }
    &.help-header {
        text-style: bold;
        .help-keys {
            color: $text;
        }
    }
}

Option {
    .option-arrow {
        margin-left: 2;
        margin-right: 1;
        text-opacity: 0%;
    }
    &:focus-within {
        .option-arrow {
            text-opacity: 100%;
        }
        &:focus-within {
            background: $primary 10%;
        }
    }

    Button {
        height: 0;
        width: 0;
        padding: 0;
        margin: 0;
        border: none;
    }
}
/* ===================================================================== */
